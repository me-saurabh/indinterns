!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e(t,n)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function o(t,n,r){return o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,n,o){var r=[null];r.push.apply(r,n);var a=new(Function.bind.apply(t,r));return o&&e(a,o.prototype),a},o.apply(null,arguments)}function r(t){var a="function"==typeof Map?new Map:void 0;return r=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==a){if(a.has(t))return a.get(t);a.set(t,i)}function i(){return o(t,arguments,n(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e(i,t)},r(t)}var a=function(t,e,n){var o=document.querySelectorAll(t),r=document.querySelector(e);o.forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),r.showModal(),n(t,r)}))}))};function i(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=n(e);if(o){var i=n(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,r)}}jQuery(document).ready((function(t){var e,n,o;t(".tips, .help_tip").each((function(){var e=t(this).attr("data-tip");e&&t(this).tipTip({content:"",fadeIn:50,fadeOut:50,delay:200,enter:function(){t(tiptip_content).text(e)}})})),t("p.form-field-author").on("click","a.change-author",(function(){t(this).closest("p").find(".current-author").hide();var e=t(this).closest("p").find(".change-author");return e.show(),e.find(":input.wpjm-user-search").trigger("init.user_search"),!1})),t("#wpbody").on("init.user_search",":input.wpjm-user-search",(function(){var e={allowClear:!!t(this).data("allow_clear"),placeholder:t(this).data("placeholder"),minimumInputLength:t(this).data("minimum_input_length")?t(this).data("minimum_input_length"):"1",errorLoading:job_manager_admin_params.user_selection_strings.searching,inputTooShort:function(t){var e=t.minimum-t.input.length;return 1===e?job_manager_admin_params.user_selection_strings.input_too_short_1:job_manager_admin_params.user_selection_strings.input_too_short_n.replace("%qty%",e)},loadingMore:function(){return job_manager_admin_params.user_selection_strings.load_more},noResults:function(){return job_manager_admin_params.user_selection_strings.no_matches},searching:function(){return job_manager_admin_params.user_selection_strings.searching},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},width:"100%",ajax:{url:job_manager_admin_params.ajax_url,dataType:"json",delay:1e3,data:function(t){return{term:t.term,action:"job_manager_search_users",security:job_manager_admin_params.search_users_nonce,page:t.page}},processResults:function(e){var n=[];return e&&e.results&&t.each(e.results,(function(t,e){n.push({id:t,text:e})})),{results:n,pagination:{more:e.more}}},cache:!0}};t(this).select2(e)})),t(":input.wpjm-user-search:visible").trigger("init.user_search"),t(document.body).on("click",".wp_job_manager_add_another_file_button",(function(e){e.preventDefault();var n=t(this).data("field_name"),o=t(this).data("field_placeholder"),r=t(this).data("uploader_button_text"),a=t(this).data("uploader_button"),i=t(this).data("view_button");t(this).before('<span class="file_url"><input type="text" name="'+n+'[]" placeholder="'+o+'" /><button class="button button-small wp_job_manager_upload_file_button" data-uploader_button_text="'+r+'">'+a+'</button><button class="button button-small wp_job_manager_view_file_button">'+i+"</button></span>")})),t(document.body).on("click",".wp_job_manager_view_file_button",(function(e){if(e.preventDefault(),!(r=t(this).data("download-url"))){o=t(this).closest(".file_url");var r=(n=o.find("input")).val()}r.indexOf("://")>-1?window.open(r,"_blank"):(n.addClass("file_no_url"),setTimeout((function(){n.removeClass("file_no_url")}),1e3))})),t(document.body).on("click",".wp_job_manager_upload_file_button",(function(r){r.preventDefault(),o=t(this).closest(".file_url"),n=o.find("input"),e||(e=wp.media.frames.file_frame=wp.media({title:t(this).data("uploader_title"),button:{text:t(this).data("uploader_button_text")},multiple:!1})).on("select",(function(){var o=e.state().get("selection").first().toJSON();t(n).val(o.url)})),e.open()}))})),jQuery(document).ready((function(t){var e="job_listing_type";t("#"+e+"checklist li :radio, #"+e+"checklist-pop :radio").on("click",(function(){var n=t(this),o=n.is(":checked"),r=n.val();t("#"+e+"checklist li :radio, #"+e+"checklist-pop :radio").prop("checked",!1),t("#in-"+e+"-"+r+", #in-popular-"+e+"-"+r).prop("checked",o)}))})),a(".promote_job","#promote-dialog",(function(t,e){!function(t,e){t.innerHTML='\n\t<form class="dialog" method="dialog">\n\t\t<button class="dialog-close" type="submit">X</button>\n\t</form>\n\t<promote-job-template>\n\t\t<div slot="buttons" class="promote-buttons-group">\n\t\t\t<a id="wpjm-promote-button" class="promote-button button button-primary" target="_blank" rel="noopener noreferrer" href="'.concat(e,'">').concat(job_manager_admin_params.job_listing_promote_strings.promote_job,'</a>\n\t\t\t<a class="promote-button button button-secondary" target="_blank" rel="noopener noreferrer" href="https://wpjobmanager.com/jobtarget?utm_source=plugin_wpjm&utm_medium=promote-dialog&utm_campaign=promoted-jobs">').concat(job_manager_admin_params.job_listing_promote_strings.learn_more,"</a>\n\t\t</div>\n\t<promote-job-template>"),t.querySelector("#wpjm-promote-button").addEventListener("click",(function(){t.close()}))}(e,t.getAttribute("data-href"))})),a(".jm-promoted__deactivate","#deactivate-dialog",(function(t,e){!function(t,e){t.querySelector(".deactivate-promotion").setAttribute("href",e)}(e,t.getAttribute("data-href"))})),customElements.define("promote-job-template",function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&e(t,n)}(r,t);var n,o=i(r);function r(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),t=o.call(this);var e=document.getElementById("promote-job-template").content;return t.attachShadow({mode:"open"}).appendChild(e.cloneNode(!0)),t}return n=r,Object.defineProperty(n,"prototype",{writable:!1}),n}(r(HTMLElement)))}();