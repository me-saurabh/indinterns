jQuery(document).ready(function(t){var e=bc_framework_pointers_tour_l18n,n=[];t(document).on("guided_tour.setup_done",function(t,n){t.stopImmediatePropagation(),e.setPlugin(n)}),t(document).on("guided_tour.current_ready",function(t){t.stopImmediatePropagation(),e.openPointer()}),t.fn.guided_tour=function(i){e.js_pointers={},e.first_pointer=!1,e.current_pointer=!1,e.last_set_pointer=!1,e.last_pointer=!1,e.last_pointer_id=!1,e.visible_pointers=[],e.hasNext=function(t){return"string"==typeof t.next&&""!==t.next&&void 0!==e.js_pointers[t.next].data&&"string"==typeof e.js_pointers[t.next].data.id},e.isVisible=function(n){return-1!==t.inArray(n.id,e.visible_pointers)},e.getPointerData=function(n){var i=t(n.anchor_id);if(n.target_id&&(i=t(n.target_id)),-1!==t.inArray(n.id,e.visible_pointers))return{target:i,data:n};for(i=!1;e.hasNext(n)&&!e.isVisible(n);)n=e.js_pointers[n.next].data,e.isVisible(n)&&(i=t(n.anchor_id));return e.isVisible(n)?{target:i,data:n}:{target:!1,data:!1}},e.setPlugin=function(i){"object"==typeof e.last_pointer&&(n.push(e.last_pointer_id),e.last_pointer.pointer("destroy"),e.last_pointer=!1),e.current_pointer=!1;var o=e.getPointerData(i);o.target&&o.data&&($target=o.target,i=o.data,$pointer=$target.pointer({content:i.title+i.content,position:{edge:i.edge,align:i.align},close:function(){e.hasNext(i)&&(e.js_pointers[i.next].data.bind?t(document).on(e.js_pointers[i.next].data.bind,function(){void 0!==e.js_pointers[i.next]&&"object"!==(e.js_pointers[i.next],!1)&&(r(i.next)||e.setPlugin(e.js_pointers[i.next].data))}):e.setPlugin(e.js_pointers[i.next].data)),t.post(ajaxurl,{pointer:i.id,action:"dismiss-wp-pointer"})}}),e.current_pointer={pointer:$pointer,data:i,id:i.id},t(document).trigger("guided_tour.current_ready"))},e.openPointer=function(){var n=e.current_pointer.pointer;t("html, body").animate({scrollTop:n.offset().top-520},300,function(){e.last_pointer=n,e.last_pointer_id=e.current_pointer.data.id;var t=n.pointer("widget");t.addClass(e.class).addClass(e.current_pointer.data.id),e.setNext(t,e.current_pointer.data),n.pointer("open")})},e.setNext=function(t,i){if("object"==typeof t){var r=t.find(".wp-pointer-buttons").eq(0),o=r.find("a.close").eq(0);$button=o.clone(!0,!0).removeClass("close"),r.find("a.close").remove(),$button.addClass("button").addClass("button-primary"),has_next=!1,e.hasNext(i)?(has_next_data=e.getPointerData(e.js_pointers[i.next].data),has_next=has_next_data.target&&has_next_data.data,has_next=has_next||void 0!==e.js_pointers[i.next].data):n.push(e.last_pointer_id);var a=has_next?e.next_label:e.close_label;$button.html(a).appendTo(r).addClass(i.id)}};var r=function(e){return-1!==t.inArray(e,n)};t(e.pointers).each(function(n,i){if(t().pointer&&!r(i.id)){e.js_pointers[i.id]={data:i};var o=t(i.anchor_id);i.target_id&&(o=t(i.target_id)),(o.length&&o.is(":visible")||i.bind)&&(e.visible_pointers.push(i.id),e.first_pointer||(e.first_pointer=i)),e.last_set_pointer=i,n===e.pointers.length-1&&e.first_pointer&&t(document).trigger("guided_tour.setup_done",e.first_pointer)}}),t(document).trigger("guided_tour.init")},t(document).guided_tour()});